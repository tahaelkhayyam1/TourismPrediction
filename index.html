<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prédiction Tourisme 2025</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Ajout de l'animation pulse pour le header */
        @keyframes pulse-light {
            0%, 100% { opacity: 0.2; transform: translateX(-50%) scaleX(1.5); }
            50% { opacity: 0.1; transform: translateX(50%) scaleX(1.5); }
        }
        .animate-shine {
            animation: pulse-light 3s infinite;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 md:p-8">
    <div id="app" class="max-w-7xl mx-auto">
        
        <div class="relative bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl shadow-2xl p-8 mb-8 overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 animate-shine"></div>
            <div class="relative z-10">
                <div class="flex items-center gap-4 mb-4">
                    <div class="bg-white/20 backdrop-blur-lg p-4 rounded-2xl">
                        <i data-lucide="sparkles" class="w-10 h-10 text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-4xl md:text-5xl font-bold text-white mb-2">
                            Prédiction Tourisme 2025
                        </h1>
                        <p class="text-purple-100 text-lg">
                            Analyse Août-Décembre 2024 → Projection Septembre-Décembre 2025
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-3xl shadow-2xl p-8 text-white transform hover:scale-105 transition-transform">
                <div class="flex items-center justify-between mb-4">
                    <i data-lucide="calendar" class="w-10 h-10 opacity-80"></i>
                    <div class="bg-white/20 px-3 py-1 rounded-full text-sm font-bold">2024</div>
                </div>
                <div class="text-5xl font-bold mb-2" id="kpi-2024"></div>
                <div class="text-blue-100 text-lg">
                    Août-Déc 2024 (Réalisé)
                </div>
            </div>

            <div class="bg-gradient-to-br from-green-600 to-green-700 rounded-3xl shadow-2xl p-8 text-white transform hover:scale-105 transition-transform">
                <div class="flex items-center justify-between mb-4">
                    <i data-lucide="target" class="w-10 h-10 opacity-80"></i>
                    <div class="bg-white/20 px-3 py-1 rounded-full text-sm font-bold">Prévision</div>
                </div>
                <div class="text-5xl font-bold mb-2" id="kpi-prediction"></div>
                <div class="text-green-100 text-lg">
                    Sept-Déc 2025 (Prévu)
                </div>
            </div>

            <div class="bg-gradient-to-br from-purple-600 to-pink-600 rounded-3xl shadow-2xl p-8 text-white transform hover:scale-105 transition-transform">
                <div class="flex items-center justify-between mb-4">
                    <i data-lucide="trending-up" class="w-10 h-10 opacity-80"></i>
                    <div class="bg-white/20 px-3 py-1 rounded-full text-sm font-bold">+20%</div>
                </div>
                <div class="text-5xl font-bold mb-2" id="kpi-total-2025"></div>
                <div class="text-purple-100 text-lg">
                    Total Annuel 2025
                </div>
            </div>
        </div>

        <div class="bg-white rounded-3xl shadow-2xl p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                <i data-lucide="bar-chart-3" class="w-8 h-8 text-purple-600"></i>
                Comparaison Août-Décembre : 2024 vs 2025
            </h2>
            <div class="h-[400px]">
                <canvas id="comparisonChart"></canvas>
            </div>
        </div>

        <div class="bg-white rounded-3xl shadow-2xl p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                <i data-lucide="target" class="w-8 h-8 text-pink-600"></i>
                Prédictions Mensuelles Sept-Déc 2025
            </h2>
            <div id="predictions-container" class="space-y-6">
                </div>
        </div>

        <div class="bg-gradient-to-br from-indigo-600 to-purple-600 rounded-3xl shadow-2xl p-8 mb-8 text-white">
            <h2 class="text-3xl font-bold mb-6 flex items-center gap-3">
                <i data-lucide="calendar" class="w-8 h-8"></i>
                Projection Totale Année 2025
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20">
                    <div class="text-indigo-200 text-sm font-semibold mb-2">Scénario Conservateur</div>
                    <div class="text-4xl font-bold mb-2" id="total-conservateur"></div>
                    <div class="text-indigo-200 text-sm">arrivées totales</div>
                </div>
                
                <div class="bg-white/20 backdrop-blur-lg rounded-2xl p-6 border-2 border-white/40">
                    <div class="text-white text-sm font-semibold mb-2 flex items-center gap-2">
                        Scénario Moyen <span class="text-xl">⭐</span>
                    </div>
                    <div class="text-5xl font-bold mb-2" id="total-moyen"></div>
                    <div class="text-indigo-100 text-sm">arrivées totales</div>
                </div>
                
                <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20">
                    <div class="text-indigo-200 text-sm font-semibold mb-2">Scénario Optimiste</div>
                    <div class="text-4xl font-bold mb-2" id="total-optimiste"></div>
                    <div class="text-indigo-200 text-sm">arrivées totales</div>
                </div>
            </div>

            <div class="bg-white/10 backdrop-blur-lg rounded-xl p-5">
                <div class="text-sm text-indigo-200 mb-2">Décomposition (Scénario Moyen)</div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div>
                        <span class="text-indigo-200">Jan-Août 2025 (Réalisé):</span>
                        <span class="font-bold ml-2" id="decomp-realise"></span>
                    </div>
                    <div>
                        <span class="text-indigo-200">Sept-Déc 2025 (Prévu):</span>
                        <span class="font-bold ml-2" id="decomp-prevu"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="bg-white rounded-3xl shadow-2xl p-8">
                <h3 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                    <i data-lucide="trending-up" class="w-6 h-6 text-green-600"></i>
                    Facteurs de Croissance
                </h3>
                <ul class="space-y-3 text-gray-700">
                    <li class="flex items-start gap-3">
                        <div class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                            <span class="text-green-600 text-xs font-bold">✓</span>
                        </div>
                        <span><strong>Momentum positif</strong> : +20% sur Jan-Août 2025</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <div class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                            <span class="text-green-600 text-xs font-bold">✓</span>
                        </div>
                        <span><strong>Marchés dynamiques</strong> : UK (+27%), Italie (+28%)</span>
                    </li>
                     <li class="flex items-start gap-3">
                        <div class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                            <span class="text-green-600 text-xs font-bold">✓</span>
                        </div>
                        <span><strong>Diversification</strong> : Croissance sur tous les marchés</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <div class="w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                            <span class="text-green-600 text-xs font-bold">✓</span>
                        </div>
                        <span><strong>Saison haute</strong> : Performance estivale exceptionnelle</span>
                    </li>
                </ul>
            </div>
            <div class="bg-white rounded-3xl shadow-2xl p-8">
                <h3 class="text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2">
                    <i data-lucide="target" class="w-6 h-6 text-purple-600"></i>
                    Recommandations
                </h3>
                <ul class="space-y-3 text-gray-700">
                    <li class="flex items-start gap-3">
                        <div class="w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                            <span class="text-purple-600 text-xs font-bold">→</span>
                        </div>
                        <span><strong>Capacité d'accueil</strong> : Anticiper l'augmentation de la demande</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <div class="w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                            <span class="text-purple-600 text-xs font-bold">→</span>
                        </div>
                        <span><strong>Marketing ciblé</strong> : Renforcer UK, Italie, USA</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <div class="w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                            <span class="text-purple-600 text-xs font-bold">→</span>
                        </div>
                        <span><strong>Hors-saison</strong> : Développer l'attractivité automne-hiver</span>
                    </li>
                     <li class="flex items-start gap-3">
                        <div class="w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                            <span class="text-purple-600 text-xs font-bold">→</span>
                        </div>
                        <span><strong>Infrastructure</strong> : Investir dans la qualité de service</span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="bg-gradient-to-r from-gray-800 to-gray-900 rounded-3xl shadow-2xl p-8 text-white">
            <h3 class="text-2xl font-bold mb-4 flex items-center gap-3">
                <i data-lucide="bar-chart-3" class="w-6 h-6"></i>
                Méthodologie de Prédiction
            </h3>
            <div class="space-y-4 text-gray-300">
                <div class="bg-white/5 rounded-xl p-4">
                    <strong class="text-white">Base de calcul :</strong> Données réalisées Août-Déc 2024
                </div>
                <div class="bg-white/5 rounded-xl p-4">
                    <strong class="text-white">Taux de croissance appliqué :</strong>
                    <ul class="mt-2 ml-4 space-y-1 text-sm">
                        <li>• Conservateur: +15% (contexte économique prudent)</li>
                        <li>• Moyen: +20% (tendance observée Jan-Août 2025) ⭐</li>
                        <li>• Optimiste: +25% (momentum fort maintenu)</li>
                    </ul>
                </div>
                <div class="bg-white/5 rounded-xl p-4">
                    <strong class="text-white">Hypothèses :</strong> Stabilité géopolitique, maintien des campagnes marketing, 
                    capacité d'accueil suffisante, continuité de la dynamique positive
                </div>
            </div>
        </div>

        <div class="mt-8 text-center text-gray-400">
            <p class="text-sm">Analyse prédictive basée sur les TDB Nationaux du Tourisme</p>
            <p class="text-xs mt-2">Prédictions générées en octobre 2025 • Scénario moyen recommandé</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- DATA ---
            const data2024 = {
                aout: { total: 1850000 },
                septembre: { total: 1550000 },
                octobre: { total: 1450000 },
                novembre: { total: 1250000 },
                decembre: { total: 1400000 }
            };

            const data2025Confirmed = {
                janvier: { total: 500000 }, fevrier: { total: 750000 },
                mars: { total: 900000 }, avril: { total: 1100000 },
                mai: { total: 1331034 }, juin: { total: 1443554 },
                juillet: { total: 1800000 }, aout: { total: 1900000 }
            };

            const tauxCroissance = { moyenne: 0.20, conservateur: 0.15, optimiste: 0.25 };

            // --- CALCULATIONS ---
            const predictions2025 = {
                septembre: {
                    conservateur: Math.round(data2024.septembre.total * (1 + tauxCroissance.conservateur)),
                    moyen: Math.round(data2024.septembre.total * (1 + tauxCroissance.moyenne)),
                    optimiste: Math.round(data2024.septembre.total * (1 + tauxCroissance.optimiste))
                },
                octobre: {
                    conservateur: Math.round(data2024.octobre.total * (1 + tauxCroissance.conservateur)),
                    moyen: Math.round(data2024.octobre.total * (1 + tauxCroissance.moyenne)),
                    optimiste: Math.round(data2024.octobre.total * (1 + tauxCroissance.optimiste))
                },
                novembre: {
                    conservateur: Math.round(data2024.novembre.total * (1 + tauxCroissance.conservateur)),
                    moyen: Math.round(data2024.novembre.total * (1 + tauxCroissance.moyenne)),
                    optimiste: Math.round(data2024.novembre.total * (1 + tauxCroissance.optimiste))
                },
                decembre: {
                    conservateur: Math.round(data2024.decembre.total * (1 + tauxCroissance.conservateur)),
                    moyen: Math.round(data2024.decembre.total * (1 + tauxCroissance.moyenne)),
                    optimiste: Math.round(data2024.decembre.total * (1 + tauxCroissance.optimiste))
                }
            };

            const total2024AoutDec = Object.values(data2024).reduce((sum, month) => sum + month.total, 0);
            const total2025JanAout = Object.values(data2025Confirmed).reduce((sum, month) => sum + month.total, 0);

            const totalPrediction2025SepDec = {
                conservateur: Object.values(predictions2025).reduce((sum, month) => sum + month.conservateur, 0),
                moyen: Object.values(predictions2025).reduce((sum, month) => sum + month.moyen, 0),
                optimiste: Object.values(predictions2025).reduce((sum, month) => sum + month.optimiste, 0)
            };

            const totalAnnuel2025 = {
                conservateur: total2025JanAout + totalPrediction2025SepDec.conservateur,
                moyen: total2025JanAout + totalPrediction2025SepDec.moyen,
                optimiste: total2025JanAout + totalPrediction2025SepDec.optimiste
            };

            // --- DOM MANIPULATION ---
            
            // KPIs
            document.getElementById('kpi-2024').textContent = `${(total2024AoutDec / 1000000).toFixed(1)}M`;
            document.getElementById('kpi-prediction').textContent = `${(totalPrediction2025SepDec.moyen / 1000000).toFixed(1)}M`;
            document.getElementById('kpi-total-2025').textContent = `${(totalAnnuel2025.moyen / 1000000).toFixed(1)}M`;

            // Totaux Annuels
            document.getElementById('total-conservateur').textContent = `${(totalAnnuel2025.conservateur / 1000000).toFixed(2)}M`;
            document.getElementById('total-moyen').textContent = `${(totalAnnuel2025.moyen / 1000000).toFixed(2)}M`;
            document.getElementById('total-optimiste').textContent = `${(totalAnnuel2025.optimiste / 1000000).toFixed(2)}M`;
            
            // Décomposition
            document.getElementById('decomp-realise').textContent = `${(total2025JanAout / 1000000).toFixed(2)}M`;
            document.getElementById('decomp-prevu').textContent = `${(totalPrediction2025SepDec.moyen / 1000000).toFixed(2)}M`;

            // Génération des cartes de prédiction
            const predictionsContainer = document.getElementById('predictions-container');
            let predictionsHTML = '';
            Object.entries(predictions2025).forEach(([mois, values]) => {
                const moisLabel = mois.charAt(0).toUpperCase() + mois.slice(1);
                const base2024 = data2024[mois].total;
                
                predictionsHTML += `
                    <div class="bg-gradient-to-r from-gray-50 to-purple-50 rounded-2xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-2xl font-bold text-gray-900">${moisLabel} 2025</h3>
                            <div class="text-sm text-gray-600">Base 2024: ${(base2024 / 1000).toFixed(0)}K</div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="bg-white rounded-xl p-5 border-2 border-orange-200">
                                <div class="text-sm text-orange-700 font-semibold mb-2">Scénario Conservateur</div>
                                <div class="text-3xl font-bold text-gray-900">${(values.conservateur / 1000).toFixed(0)}K</div>
                                <div class="text-sm text-orange-600 font-semibold mt-1">+${tauxCroissance.conservateur * 100}%</div>
                            </div>
                            <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-5 border-2 border-green-300">
                                <div class="text-sm text-green-700 font-semibold mb-2">Scénario Moyen ⭐</div>
                                <div class="text-3xl font-bold text-gray-900">${(values.moyen / 1000).toFixed(0)}K</div>
                                <div class="text-sm text-green-600 font-semibold mt-1">+${tauxCroissance.moyenne * 100}%</div>
                            </div>
                            <div class="bg-white rounded-xl p-5 border-2 border-blue-200">
                                <div class="text-sm text-blue-700 font-semibold mb-2">Scénario Optimiste</div>
                                <div class="text-3xl font-bold text-gray-900">${(values.optimiste / 1000).toFixed(0)}K</div>
                                <div class="text-sm text-blue-600 font-semibold mt-1">+${tauxCroissance.optimiste * 100}%</div>
                            </div>
                        </div>
                    </div>
                `;
            });
            predictionsContainer.innerHTML = predictionsHTML;
            
            // --- CHART ---
            const chartData = [
                { mois: 'Août', '2024': data2024.aout.total, '2025': data2025Confirmed.aout.total },
                { mois: 'Sept', '2024': data2024.septembre.total, '2025': predictions2025.septembre.moyen },
                { mois: 'Oct', '2024': data2024.octobre.total, '2025': predictions2025.octobre.moyen },
                { mois: 'Nov', '2024': data2024.novembre.total, '2025': predictions2025.novembre.moyen },
                { mois: 'Déc', '2024': data2024.decembre.total, '2025': predictions2025.decembre.moyen }
            ];

            const ctx = document.getElementById('comparisonChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: chartData.map(d => d.mois),
                    datasets: [
                        {
                            label: '2024 (Réalisé)',
                            data: chartData.map(d => d['2024']),
                            backgroundColor: '#3b82f6',
                            borderRadius: 8,
                            borderSkipped: false,
                        },
                        {
                            label: '2025 (Prévu)',
                            data: chartData.map(d => d['2025']),
                            backgroundColor: '#10b981',
                            borderRadius: 8,
                            borderSkipped: false,
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        tooltip: {
                            backgroundColor: '#1f2937',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderRadius: 12,
                            padding: 12,
                            displayColors: true,
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: '#e5e7eb',
                                borderDash: [3, 3],
                            },
                             ticks: {
                                color: '#6b7280'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#6b7280'
                            }
                        }
                    }
                }
            });
            
            // --- ICONS ---
            lucide.createIcons();
        });
    </script>
</body>
</html>